{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Temporal Search Schema",
  "type": "object",
  "required": ["timerel", "time", "attribute"],
  "properties": {
    "timerel": {
      "type": "string",
      "enum": ["before", "after", "during", "between"]
    },
    "time": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T(0[1-9]|1[0-2]):[0-5]\\d:[0-5]\\d\\+\\d{4}$"
    },
    "endTime": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}T(0[1-9]|1[0-2]):[0-5]\\d:[0-5]\\d\\+\\d{4}$"
    },
    "attribute": {
      "type": "string",
      "enum": ["observationDateTime", "itemCreatedAt", "itemModifiedAt", "itemUpdatedAt"]
    }
  },
  "anyOf": [
    {
      "not": {
        "properties": {
          "timerel": { "enum": ["between", "during"] }
        }
      }
    },
    {
      "required": ["endTime"]
    }
  ],
  "additionalProperties": true
}
